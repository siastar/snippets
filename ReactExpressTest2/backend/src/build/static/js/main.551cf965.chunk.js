(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a(275)},275:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),l=a.n(s),o=a(4),c=a(5),i=a(7),m=a(6),u=a(8),d=r.a.createContext(),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e)))._setLang=function(e){a.setState({_globalLang:e})},a._setAuth=function(e){a.setState({_isAuth:e})},a.state={_isAuth:!1,_globalLang:"en"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.Provider,{value:{_isAuth:this.state._isAuth,_globalLang:this.state._globalLang,_setAuth:this._setAuth,_setLang:this._setLang}},this.props.children)}}]),t}(r.a.Component),v=d.Consumer,g=a(25),h=a.n(g),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onUsernameChange=function(e){a.setState({username:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.logIn=function(e){a.validator.allValid()?"admin@abc.com"===a.state.username&&"admin"===a.state.password&&(a.context._setAuth(!0),a.props.history.push("/dashboard")):(a.setState({IsloggedIn:!1}),a.context._setAuth(!0),a.validator.showMessages(),a.forceUpdate()),e.preventDefault()},a.state={username:"admin@abc.com",password:"admin",isAuth:!1},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-7"},r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h1",null,"Dashboard Login")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"username",placeholder:"Your Email *",onChange:this.onUsernameChange,value:this.state.username}),this.validator.message("username",this.state.username,"required|email")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",maxLength:"16",placeholder:"Your Password *",onChange:this.onPasswordChange,value:this.state.password}),this.validator.message("password",this.state.password,"required|password|max:16")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"input",className:"btn btn-primary btn-default",value:"Login",onClick:this.logIn})),r.a.createElement("div",{className:"form-group"},r.a.createElement("a",{href:"#",className:"ForgetPwd"},"Forget Password?"))))))))}}]),t}(r.a.Component);f.contextType=v;var b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){console.log("logout",a.context),a.context.setAuth(!1)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"main-header ",id:"header"},r.a.createElement("nav",{className:"navbar navbar-static-top navbar-expand-lg"},r.a.createElement("button",{id:"sidebar-toggler",className:"sidebar-toggle"},r.a.createElement("span",{className:"sr-only"},"Toggle navigation")),r.a.createElement("div",{className:"search-form d-none d-lg-inline-block"},r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{type:"button",name:"search",id:"search-btn",className:"btn btn-flat"},r.a.createElement("i",{className:"mdi mdi-magnify"})),r.a.createElement("input",{type:"text",name:"query",id:"search-input",className:"form-control",placeholder:"'button', 'chart' etc.",autofocus:!0,autocomplete:"off"})),r.a.createElement("div",{id:"search-results-container"},r.a.createElement("ul",{id:"search-results"}))),r.a.createElement("div",{className:"navbar-right "},r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"dropdown notifications-menu"},r.a.createElement("button",{className:"dropdown-toggle","data-toggle":"dropdown"},r.a.createElement("i",{className:"mdi mdi-bell-outline"})),r.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("li",{className:"dropdown-header"},"You have 5 notifications"),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"mdi mdi-account-plus"})," New user registered",r.a.createElement("span",{className:" font-size-12 d-inline-block float-right"},r.a.createElement("i",{className:"mdi mdi-clock-outline"})," 10 AM"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"mdi mdi-account-remove"})," User deleted",r.a.createElement("span",{className:" font-size-12 d-inline-block float-right"},r.a.createElement("i",{className:"mdi mdi-clock-outline"})," 07 AM"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"mdi mdi-chart-areaspline"})," Sales report is ready",r.a.createElement("span",{className:" font-size-12 d-inline-block float-right"},r.a.createElement("i",{className:"mdi mdi-clock-outline"})," 12 PM"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"mdi mdi-account-supervisor"})," New client",r.a.createElement("span",{className:" font-size-12 d-inline-block float-right"},r.a.createElement("i",{className:"mdi mdi-clock-outline"})," 10 AM"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"mdi mdi-server-network-off"})," Server overloaded",r.a.createElement("span",{className:" font-size-12 d-inline-block float-right"},r.a.createElement("i",{className:"mdi mdi-clock-outline"})," 05 AM"))),r.a.createElement("li",{className:"dropdown-footer"},r.a.createElement("a",{className:"text-center",href:"#"}," View All ")))),r.a.createElement("li",{className:"dropdown user-menu"},r.a.createElement("button",{href:"#",className:"dropdown-toggle nav-link","data-toggle":"dropdown"},r.a.createElement("img",{src:"assets/img/user/user.png",className:"user-image",alt:"User Image"}),r.a.createElement("span",{className:"d-none d-lg-inline-block"},"Abdus Salam")),r.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("li",{className:"dropdown-header"},r.a.createElement("img",{src:"assets/img/user/user.png",className:"img-circle",alt:"User Image"}),r.a.createElement("div",{className:"d-inline-block"},"Abdus Salam ",r.a.createElement("small",{className:"pt-1"},"abdus@gmail.com"))),r.a.createElement("li",null,r.a.createElement("a",{href:"profile.html"},r.a.createElement("i",{className:"mdi mdi-account"})," My Profile")),r.a.createElement("li",null,r.a.createElement("a",{href:"email-inbox.html"},r.a.createElement("i",{className:"mdi mdi-email"})," Message")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{className:"mdi mdi-diamond-stone"})," Projects ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{className:"mdi mdi-settings"})," Account Setting ")),r.a.createElement("li",{className:"dropdown-footer"},r.a.createElement("a",{href:"#",onClick:this.logout}," ",r.a.createElement("i",{className:"mdi mdi-logout"})," Log Out "))))))))}}]),t}(r.a.Component);b.contextType=v;var E=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{class:"footer mt-auto"},r.a.createElement("div",{class:"copyright bg-white"},r.a.createElement("p",null,"\xa9 ",r.a.createElement("span",null,(new Date).getFullYear())," Copyright PG7ESTH")))}}]),t}(r.a.Component),N=a(12),y=a.n(N),w=a(16),C=a(9),D=a.n(C),S=a(2),k=a.n(S),M=a(14),R=a(3),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).switchLang=function(){"en"===a.context._globalLang?a.context._setLang("it"):a.context._setLang("en")},a.getMenuItems=Object(w.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/menu");case 2:return t=e.sent,e.next=5,k.a.sortBy(t.data,"sortId","asc");case 5:n=e.sent,console.log("TCL: Sidebar -> getMenuItems -> menuItems",n),a.setState({menuItems:n});case 8:case"end":return e.stop()}},e)})),a.state={menuItems:null,language:"en"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.menuItems||this.getMenuItems()}},{key:"render",value:function(){var e=this;return r.a.createElement("aside",{className:"left-sidebar bg-sidebar"},r.a.createElement("div",{id:"sidebar",className:"sidebar sidebar-with-footer"},r.a.createElement("div",{className:"app-brand"},r.a.createElement("a",{href:"/index.html"},r.a.createElement("svg",{className:"brand-icon",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",width:"30",height:"33",viewBox:"0 0 30 33"},r.a.createElement("g",{fill:"none","fill-rule":"evenodd"},r.a.createElement("path",{className:"logo-fill-blue",fill:"#7DBCFF",d:"M0 4v25l8 4V0zM22 4v25l8 4V0z"}),r.a.createElement("path",{className:"logo-fill-white",fill:"#FFF",d:"M11 4v25l8 4V0z"}))),r.a.createElement("span",{className:"brand-name"},"ESTH DASHBOARD"))),r.a.createElement("div",{className:"sidebar-scrollbar"},r.a.createElement("ul",{className:"nav sidebar-inner",id:"sidebar-menu"},r.a.createElement("li",{className:"has-sub active expand"},r.a.createElement("a",{className:"sidenav-item-link",href:"javascript:void(0)","data-toggle":"collapse","data-target":"#dashboard","aria-expanded":"false","aria-controls":"dashboard"},r.a.createElement("i",{className:"mdi mdi-view-dashboard-outline"}),r.a.createElement("span",{className:"nav-text"},"Dashboard")," ",r.a.createElement("b",{className:"caret"})),r.a.createElement("ul",{className:"collapse show",id:"dashboard","data-parent":"#sidebar-menu"},r.a.createElement("div",{className:"sub-menu"},null===this.state.menuItems?"Loading...":this.state.menuItems.map(function(t){return r.a.createElement("li",{className:"active"},r.a.createElement(M.Link,{to:t.url,className:"sidenav-item-link",href:"index.html"},r.a.createElement("span",{className:"nav-text"},r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:t.icon}))," ",t.title_lang[0][e.context._globalLang])))})))))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"sidebar-footer"},r.a.createElement("div",{className:"sidebar-footer-content"},r.a.createElement("div",{class:"row vertical-align"},r.a.createElement("div",{class:"col-xs-4"},r.a.createElement("a",{href:"#",title:"English"},r.a.createElement("img",{src:"/assets/img/elements/ukf.png",className:"img-responsive w-25 p-1",onClick:this.switchLang})),r.a.createElement("a",{href:"#",title:"Italian"},r.a.createElement("img",{src:"/assets/img/elements/itf.png",className:"img-responsive w-25 p-1",onClick:this.switchLang}))))))))}}]),t}(r.a.Component);j.contextType=v;var O=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(j,null),this.props.children,r.a.createElement(E,null))}}]),t}(r.a.Component);O.isPrivate=!0;var _=a(10),I=function(e){return r.a.createElement("div",{className:204===e.status?"alert alert-success alert-highlighted alerttimeout":500===e.status?"alert alert-danger alert-highlighted alerttimeout":"alerttimeout hide",role:"alert"},204===e.status?e.successMessage:500===e.status?e.errorMessage:"")},x=a(85),P=a.n(x),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){"title"===e.currentTarget.name?a.setState({title:e.currentTarget.value}):"active"===e.currentTarget.name?a.setState({active:e.currentTarget.value}):"auth"===e.currentTarget.name?a.setState({auth:e.currentTarget.value}):"icon"===e.currentTarget.name?a.setState({icon:e.currentTarget.value}):"sortid"===e.currentTarget.name&&a.setState({sortid:e.currentTarget.value})},a.getItem=function(){var e=Object(w.a)(y.a.mark(function e(t){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/menu/"+t);case 2:return n=e.sent,e.next=5,n.data;case 5:r=e.sent,k.a.isEmpty(r)||a.setState({_id:r._id,url:r.url,title:r.title_lang[0][a.context._globalLang],_innerId:r.title_lang[0]._id,active:r.active,auth:r.auth,icon:r.icon,sortid:r.sortId});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onFormSubmit=function(e){if(a.validator.allValid()){var t,n=a.context._globalLang,r={_id:P()(a.state._id),"title_lang._id":P()(a.state._innerId)},s=(t={},Object(_.a)(t,"title_lang.$."+n,a.state.title),Object(_.a)(t,"active",a.state.active),Object(_.a)(t,"auth",a.state.auth),Object(_.a)(t,"icon",a.state.icon),Object(_.a)(t,"sortId",a.state.sortid),t);D.a.post("/menu/update",{data:{where:r,set:s}}).then(function(e){204===e.status&&(a.setState({status:204}),setTimeout(function(){a.setState({status:""})},2e3))}).catch(function(e){a.setState({status:500})})}else a.validator.showMessages(),a.forceUpdate();e.preventDefault()},a.state={_id:void 0,url:void 0,title:void 0,active:void 0,auth:void 0,icon:void 0,sortid:void 0,status:void 0},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.id||null;null!==e&&this.getItem(e)}},{key:"render",value:function(){var e=this;return k.a.isEmpty(this.state._id)?r.a.createElement(O,null,r.a.createElement("p",{className:"centerauto"},"NO DATA")):r.a.createElement(O,null,r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"pencil-alt"}))," ","Edit Menu")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"id"},"ID"),r.a.createElement("input",{name:"id",type:"text",className:"form-control",value:this.state._id,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"title"},"Title Language"),r.a.createElement("input",{name:"title",type:"text",className:"form-control",placeholder:"Title",autoComplete:"off",value:this.state.title,onChange:function(t){return e.onChange(t)}}),this.validator.message("title",this.state.title,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"url"},"URL"),r.a.createElement("input",{name:"url",type:"text",className:"form-control",placeholder:"URL",disabled:!0,value:this.state.url}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"active"},"Active"),r.a.createElement("select",{className:"form-control",name:"active",id:"active",value:this.state.active,onChange:function(t){return e.onChange(t)}},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"active"},"Authentication"),r.a.createElement("select",{className:"form-control",name:"auth",id:"auth",onChange:function(t){return e.onChange(t)},value:this.state.auth},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")))))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"icon"},"Icon"),r.a.createElement("input",{name:"icon",type:"text",className:"form-control",placeholder:"FontAwesome Icon",autoComplete:"off",value:this.state.icon,onChange:function(t){return e.onChange(t)}}),this.validator.message("icon",this.state.icon,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"sortid"},"SortID"),r.a.createElement("input",{name:"sortid",type:"text",className:"form-control",placeholder:"SortID",value:this.state.sortid,onChange:function(t){return e.onChange(t)}}),this.validator.message("sortid",this.state.sortid,"required|numeric")))),r.a.createElement(I,{status:this.state.status,successMessage:"Record has been updated.",errorMessage:"An error occured while performing operation."}),r.a.createElement("div",{className:"form-footer pt-5 border-top"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default",onClick:this.onFormSubmit},"Update"))))))}}]),t}(r.a.Component);U.contextType=v;var T=a(27),Y=a(30),A=a.n(Y),L=function(e){var t=e.columns,a=e.setColumnVisibility;return r.a.createElement("div",{className:"button-group float-right clearboth"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-toggle":"dropdown"},r.a.createElement(R.a,{icon:"eye"})),r.a.createElement("ul",{className:"dropdown-menu checkbox-menu allow-focus"},t.map(function(e,t){var n=e.name,s=e.visible;if(!k.a.isEmpty(n))return r.a.createElement("li",null,r.a.createElement("label",{className:"control control-checkbox"},n,r.a.createElement("input",{type:"checkbox",defaultChecked:s,onChange:function(){a(t)}}),r.a.createElement("div",{className:"control-indicator"})))})))},q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onCloseModal=function(){a.setState({openModal:!1,deleteRecordId:null})},a.openModalConfirmation=function(e){a.setState({openModal:!0,deleteRecordId:e._id})},a.handleEditRow=function(e){a.props.history.push({pathname:"/menueditor/"+e._id})},a.getColumns=function(){var e=[{key:"_id",visible:!1},{key:"title_lang",name:"Title",visible:!0},{key:"url",name:"URL",visible:!0},{key:"active",name:"Active",visible:!1},{key:"auth",name:"IsAuth",visible:!1},{key:"icon",name:"Icon",visible:!0},{key:"sortId",name:"SortID",visible:!1},{key:"edit",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.handleEditRow(t)}},r.a.createElement(R.a,{icon:"pencil-alt"}))},width:35,visible:!0}];a.setState({columns:e})},a.getMenuItems=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("api/menu");case 2:return t=e.sent,e.next=5,k.a.sortBy(t.data,"sortId","asc");case 5:n=e.sent,r=[],n.map(function(e){r.push({_id:e._id,title_lang:e.title_lang[0][a.context._globalLang],url:e.url,active:e.active.toString(),auth:e.auth.toString(),icon:e.icon,sortId:e.sortId})}),a.setState({rows:r});case 9:case"end":return e.stop()}},e)})),a.setColumnVisibility=function(e){var t=Object(T.a)(a.state.columns),n=t[e].visible;t[e].visible=!n,a.setState({columns:t})},a.state={menuItems:null,status:"",openModal:!1,deleteRecordId:null,rows:[],columns:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.menuItems||(this.getColumns(),this.getMenuItems())}},{key:"render",value:function(){var e,t=this,a=this.state.columns.filter(function(e){return!0===e.visible});return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card card-table-border-none"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"wrench"})),"Menu Settings")),r.a.createElement("div",{className:"card-body pt-0 pb-5"},r.a.createElement("div",{className:"table card-table table-responsive table-responsive-large"},r.a.createElement("p",{className:"mb-5"},"Use ",r.a.createElement("code",null,".Menu Settings")," to edit menu items."),r.a.createElement(L,{columns:this.state.columns,setColumnVisibility:this.setColumnVisibility}),r.a.createElement(A.a,(e={className:"table card-table table-responsive table-responsive-large",enableSingleRowSelect:!0,enableCellSelect:!0,columns:a,rowGetter:function(e){return t.state.rows[e]},rowsCount:this.state.rows.length},Object(_.a)(e,"enableCellSelect",!0),Object(_.a)(e,"minHeight",500),e))))))))))}}]),t}(r.a.Component);q.contextType=v;var H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){"provider"===e.currentTarget.name?a.setState({provider:e.currentTarget.value}):"url"===e.currentTarget.name?a.setState({url:e.currentTarget.value}):"sortId"===e.currentTarget.name?a.setState({sortId:e.currentTarget.value}):"slug"===e.currentTarget.name?a.setState({slug:e.currentTarget.value}):"imageurl"===e.currentTarget.name?a.setState({imageurl:e.currentTarget.value}):"desc_lang"===e.currentTarget.name?a.setState({desc_lang:e.currentTarget.value}):"category"===e.currentTarget.name&&(a.setState({categoryId:e.currentTarget.value}),console.log(a.state.categoryId))},a.getCategory=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context._globalLang,e.next=3,D.a.get("/api/sideservicesgetcat/"+t);case 3:n=e.sent,r=[],n.data.map(function(e){var t=e._id,n=e.cat_lang;r.push({_id:t,value:n[0][a.context._globalLang]})}),a.setState({category:[].concat(r)});case 7:case"end":return e.stop()}},e)})),a.getItem=function(){var e=Object(w.a)(y.a.mark(function e(t,n){var r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/sideservices/"+t+"/"+n);case 2:return r=e.sent,e.next=5,r.data;case 5:(s=e.sent).map(function(e){var t=e._id,a=e.provider_name,n=e.url,r=e.imageurl,s=e.slug,l=e.sortId,o=e.desc_lang;console.log(t,a,n,r,s,l,o)}),a.setState({pid:a.props.match.params.pid||null,cid:s[0].providers[0]._id,provider:s[0].providers[0].provider_name,url:s[0].providers[0].url,imageurl:s[0].providers[0].imageurl,slug:s[0].providers[0].slug,sortId:s[0].providers[0].sortId,desc_lang:s[0].providers[0].desc_lang[a.context._globalLang]});case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onFormSubmit=function(e){if(a.validator.allValid()){a.context._globalLang;var t,n={_id:a.state.pid,"providers._id":a.state.cid},r=k.a.isEmpty(a.state.cid)?"/api/sideservice/c":"/api/sideservice/u",s=(t={"providers.$.provider_name":a.state.provider,"providers.$.url":a.state.url,"providers.$.imageurl":a.state.imageurl},Object(_.a)(t,"providers.$.desc_lang."+a.context._globalLang,a.state.desc_lang),Object(_.a)(t,"providers.$.slug",a.state.slug),Object(_.a)(t,"providers.$.sortId",a.state.sortId),t),l={_id:a.state.categoryId,provider_name:a.state.provider,url:a.state.url,imageurl:a.state.imageurl,desc_lang:Object(_.a)({},a.context._globalLang,a.state.desc_lang),slug:a.state.slug,sortId:a.state.sortId};D.a.post(r,{data:k.a.isEmpty(a.state.cid)?l:{where:n,set:s}}).then(function(e){204===e.status&&(a.setState({status:204}),setTimeout(function(){a.setState({status:""})},2e3))}).catch(function(e){a.setState({status:500})})}else a.validator.showMessages(),a.forceUpdate();e.preventDefault()},a.state={pid:"",cid:"",url:"",provider:"",imageurl:"",desc_lang:"",status:"",sortId:"",category:[],categoryId:""},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.pid||null,t=this.props.match.params.cid||null;null!==e&&null!==t?this.getItem(e,t):this.getCategory()}},{key:"render",value:function(){var e=this;return r.a.createElement(O,null,r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"pencil-alt"})),"Editor")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:k.a.isEmpty(this.state.cid)?"col-sm-6":"d-none"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"id"}," Category "),r.a.createElement("select",{class:"form-control",id:"category",name:"category",onChange:function(t){return e.onChange(t)}},r.a.createElement("option",{value:""}," Select Category "),this.state.category.map(function(e){var t=e._id,a=e.value;return r.a.createElement("option",{value:t}," ",a," ")})),this.validator.message("category",this.state.category,"required"))),r.a.createElement("div",{className:k.a.isEmpty(this.state.cid)?"d-none":"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"id"}," ID "),r.a.createElement("input",{name:"id",type:"text",className:"form-control",value:this.state.cid,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"provider"}," Provider Name "),r.a.createElement("input",{name:"provider",type:"text",className:"form-control",placeholder:"Provider Name",autoComplete:"off",value:this.state.provider,onChange:function(t){return e.onChange(t)}}),this.validator.message("provider",this.state.provider,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"url"}," URL "),r.a.createElement("input",{name:"url",type:"text",className:"form-control",placeholder:"URL",value:this.state.url,onChange:function(t){return e.onChange(t)}}),this.validator.message("url",this.state.url,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"imageurl"}," ImageUrl "),r.a.createElement("input",{name:"imageurl",type:"text",className:"form-control",placeholder:"Image Url",autoComplete:"off",value:this.state.imageurl,onChange:function(t){return e.onChange(t)}}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"desc_lang"}," Description "),r.a.createElement("input",{name:"desc_lang",type:"text",className:"form-control",placeholder:"Description",value:this.state.desc_lang,onChange:function(t){return e.onChange(t)}}),this.validator.message("desc_lang",this.state.desc_lang,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"slug"}," Slug "),r.a.createElement("input",{name:"slug",type:"text",className:"form-control",placeholder:"Slug",value:this.state.slug,onChange:function(t){return e.onChange(t)}}),this.validator.message("slug",this.state.slug,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"sortId"}," SortId "),r.a.createElement("input",{name:"sortId",type:"text",className:"form-control",placeholder:"SortId",value:this.state.sortId,onChange:function(t){return e.onChange(t)}}),this.validator.message("sortId",this.state.sortId,"required")))),r.a.createElement(I,{status:this.state.status,successMessage:"Record has been updated.",errorMessage:"An error occured while performing operation."}),r.a.createElement("div",{className:"form-footer pt-5 border-top"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default",onClick:this.onFormSubmit},k.a.isEmpty(this.state.cid)?"Create":"Update"))))))}}]),t}(r.a.Component);H.contextType=v;var V=a(45),F=function(e){var t=e.openModal,a=e.onCloseModal,n=e.handleDeleteRow;return r.a.createElement(V.a,{open:t,onClose:function(){a()},center:!0},r.a.createElement("div",{className:"modal-header"},"Delete Record"),r.a.createElement("div",{className:"modal-body"},"Do you really want to delete this Record?"),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){a()}},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){n()}},"Delete")))},z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onCloseModal=function(){a.setState({openModal:!1,deleteRecordId:null})},a.openModalConfirmation=function(e){a.setState({openModal:!0,deleteRecordId:e._id,parentId:e.parentid})},a.handleEditRow=function(e){a.props.history.push({pathname:"/sserviceeditor/"+e.parentid+"/"+e._id})},a.handleDeleteRow=function(){a.setState({openModal:!1});var e=a.state.deleteRecordId,t=a.state.parentId,n={_id:e,parentid:t};D.a.post("/api/sideservice/d/",n).then(function(t){if(204===t.status){var n=a.state.rows.slice();n=n.filter(function(t){return t._id!==e}),a.setState({rows:n,status:204})}}).catch(function(e){a.setState({status:500}),console.log(e)})},a.getColumns=function(){var e=[{key:"parentid",visible:!1},{key:"_id",visible:!1},{key:"cat_lang",name:"Category",visible:!0},{key:"provider_name",name:"Provider",visible:!0},{key:"url",name:"URL",visible:!0},{key:"imageurl",name:"ImageURL",visible:!1},{key:"desc_lang",name:"Description",visible:!1},{key:"slug",name:"Slug",visible:!1},{key:"sortId",name:"SortId",visible:!1},{key:"edit",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.handleEditRow(t)}},r.a.createElement(R.a,{icon:"pencil-alt"}))},width:35,visible:!0},{key:"delete",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.openModalConfirmation(t)}},r.a.createElement(R.a,{icon:"trash",className:"text-danger"}))},width:35,visible:!0}];a.setState({columns:e})},a.setColumnVisibility=function(e){var t=Object(T.a)(a.state.columns),n=t[e].visible;t[e].visible=!n,a.setState({columns:t})},a.getMenuItems=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/sideservices");case 2:return t=e.sent,e.next=5,k.a.sortBy(t.data,"sortId","asc");case 5:n=e.sent,r=[],n.map(function(e){k.a.isEmpty(e.cat_lang)||k.a.isEmpty(e.providers)||e.providers.map(function(t,n){var s=t._id,l=t.provider_name,o=t.url,c=t.desc_lang,i=t.imageurl,m=t.slug,u=t.sortId;r.push({parentid:e._id||null,_id:s||null,cat_lang:k.a.isEmpty(e.cat_lang[0])?null:e.cat_lang[0][a.context._globalLang],provider_name:l||null,url:o||null,imageurl:i||null,desc_lang:k.a.isEmpty(c[a.context._globalLang])?null:c[a.context._globalLang],slug:m||null,sortId:u||null})})}),a.setState({rows:r});case 9:case"end":return e.stop()}},e)})),a.state={menuItems:null,status:void 0,openModal:!1,parentId:null,deleteRecordId:null,rows:[],columns:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.menuItems||(this.getColumns(),this.getMenuItems())}},{key:"render",value:function(){var e,t=this.state,a=t.rows,n=t.status,s=t.openModal,l=this.state.columns.filter(function(e){return!0===e.visible});return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card card-table-border-none"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"wrench"})),"Service Categories")),r.a.createElement("div",{className:"card-body pt-0 pb-5"},r.a.createElement("div",{className:"table card-table table-responsive table-responsive-large"},r.a.createElement("p",{className:"mb-5"},"Use ",r.a.createElement("code",null,".Menu Settings")," to edit menu items."),r.a.createElement(M.Link,{className:"btn btn-primary mb-3 float-right",to:"/sserviceeditor/"},"Create +"),r.a.createElement(I,{status:n,successMessage:"Record has been deleted.",errorMessage:"An error occured while performing operation."}),r.a.createElement(F,{openModal:s,onCloseModal:this.onCloseModal,handleDeleteRow:this.handleDeleteRow}),r.a.createElement(L,{columns:this.state.columns,setColumnVisibility:this.setColumnVisibility}),r.a.createElement(A.a,(e={className:"table card-table table-responsive table-responsive-large",enableSingleRowSelect:!0,enableCellSelect:!0,columns:l,rowGetter:function(e){return a[e]},rowsCount:a.length},Object(_.a)(e,"enableCellSelect",!0),Object(_.a)(e,"minHeight",500),e))))))))))}}]),t}(r.a.Component);z.contextType=v;var B={login:{en:{userName:"Username",password:"Password"},it:{userName:"Utente",password:"Password"}},menu:{en:{pageTitle:"Menu Settings",title:"Title",url:"URL",icon:"Icon"},it:{pageTitle:"Impostazioni Menu",title:"Titolo",url:"URL",icon:"Icona"}},services:{en:{pageTitle:"Services",category:"Category",provider:"Provider",url:"URL"},it:{pageTitle:"Servizi",category:"Categoria",provider:"Fornitore",url:"URL"}},servicesCategories:{en:{pageTitle:"Services Categories",category:"Category"},it:{pageTitle:"Services Categories",category:"Categorie Servizi"}},servicesRequests:{en:{pageTitle:"Services Requests",serviceName:"Service Name",userName:"Username",option:"Option",status:"Status",pickUpDate:"Pick-up Date",returnDate:"Return Date",updatedDate:"Updated Date"},it:{pageTitle:"Richieste Servizi",serviceName:"Nome Servizio",userName:"Utente",option:"Opzione",status:"Stato",pickUpDate:"Data Ritiro",returnDate:"Data Riconsegna",updatedDate:"Data Aggiornamento"}},maintenance:{en:{pageTitle:"Maintenance Services",type:["Electricity","Heating","Plumbing","Masonery","Furniture"]},it:{pageTitle:"Servizi Manutenzione",type:["Elettricit\xe1","Riscaldamento","Idraulica","Muratura","Arredamento"]}}},W=function(){function e(t){return Object(o.a)(this,e),this.paramsCheck(t)?(this.selectedLang=t.lang,t.section?this.getTranslated(t.section):this.getTranslated()):null}return Object(c.a)(e,[{key:"paramsCheck",value:function(e){var t=!0;return e&&e.lang||(t=!1),e||console.log("\nNo translation parameters passed!\n"),e.lang||console.log("\nNo selected translation language!\n"),t}},{key:"getTranslated",value:function(e){if(e){var t=B[e][this.selectedLang];if(t)return console.log("\nTranslated section:\n",t),t}return this.translated||this.buildTranslation(),console.log("\nTranslated section:\n",this.translated),this.translated}},{key:"buildTranslation",value:function(){var e=this.selectedLang,t={};for(var a in B)t[a]=B[a][e];this.translated=t}}]),e}(),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onCloseModal=function(){a.setState({openModal:!1,deleteRecordId:null})},a.openModalConfirmation=function(e){a.setState({openModal:!0,deleteRecordId:e._id,parentId:e.parentid})},a.handleEditRow=function(e){a.props.history.push({pathname:"/mserviceeditor/"+e.parentid+"/"+e._id})},a.handleDeleteRow=function(){a.setState({openModal:!1});var e=a.state.deleteRecordId,t=a.state.parentId,n={_id:e,parentid:t};D.a.post("/api/maintenanceservice/d/",n).then(function(t){if(204===t.status){var n=a.state.rows.slice();n=n.filter(function(t){return t._id!==e}),a.setState({rows:n,status:204}),setTimeout(function(){a.setState({status:""})},2e3)}}).catch(function(e){a.setState({status:500}),console.log(e)})},a.setColumnVisibility=function(e){var t=Object(T.a)(a.state.columns),n=t[e].visible;t[e].visible=!n,a.setState({columns:t})},a.getMenuItems=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/maintenanceservices");case 2:return t=e.sent,e.next=5,k.a.sortBy(t.data,"sortId","asc");case 5:n=e.sent,r=[],console.log("\nReached maintenance items!\nItems:\n",n),n.map(function(e){k.a.isEmpty(e.cat_lang)||k.a.isEmpty(e.Requests)||e.Requests.map(function(t,n){var s=t._id,l=(t.userID,t.subject,t.category,t.description,t.imagePath,t.createdDate,t.availibilityDate,t.updateDate,t.status,t.damagedGood,e.Requests[n]);r.push({_id:s||null,cat_lang:k.a.isEmpty(e.cat_lang[0])?null:e.cat_lang[0][a.context._globalLang],imagePath:l.imagePath||null,subject:l.subject||null,category:e.cat_lang[0].title[a.context._globalLang]||null,status:l.status||null,description:l.description||null,damagedGood:l.damagedGood||null,sortId:l.createdDate||null}),console.log("\nThis request:\n",l)})}),a.setState({rows:r});case 10:case"end":return e.stop()}},e)})),a.state={menuItems:null,status:void 0,openModal:!1,parentId:null,deleteRecordId:null,rows:[],columns:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.menuItems||(this.getColumns(),this.getMenuItems())}},{key:"getColumns",value:function(){var e=this,t=[{key:"_id",visible:!1},{key:"category",name:"Category",visible:!0},{key:"subject",name:"Subject",visible:!0},{key:"status",name:"Status",visible:!0},{key:"damagedGood",name:"Damage",visible:!0},{key:"edit",getRowMetaData:function(e){return e},formatter:function(t){var a=t.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return e.handleEditRow(a)}},r.a.createElement(R.a,{icon:"pencil-alt"}))},width:35,visible:!0},{key:"delete",getRowMetaData:function(e){return e},formatter:function(t){var a=t.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return e.openModalConfirmation(a)}},r.a.createElement(R.a,{icon:"trash",className:"text-danger"}))},width:35,visible:!0}];this.setState({columns:t})}},{key:"render",value:function(){new W({lang:"en"});var e,t=this.state,a=t.rows,n=t.status,s=t.openModal,l=this.state.columns.filter(function(e){return!0===e.visible});return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card card-table-border-none"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"wrench"})),"Maintenance Services")),r.a.createElement("div",{className:"card-body pt-0 pb-5"},r.a.createElement("div",{className:"table card-table table-responsive table-responsive-large"},r.a.createElement(M.Link,{className:"btn btn-primary mb-3 float-right",to:"/sserviceeditor/"},"Create +"),r.a.createElement(I,{status:n,successMessage:"Record has been deleted.",errorMessage:"An error occured while performing operation."}),r.a.createElement(F,{openModal:s,onCloseModal:this.onCloseModal,handleDeleteRow:this.handleDeleteRow}),r.a.createElement(L,{columns:this.state.columns,setColumnVisibility:this.setColumnVisibility}),r.a.createElement(A.a,(e={className:"table card-table table-responsive table-responsive-large",enableSingleRowSelect:!0,enableCellSelect:!0,columns:l,rowGetter:function(e){return a[e]},rowsCount:a.length},Object(_.a)(e,"enableCellSelect",!0),Object(_.a)(e,"minHeight",500),e))))))))))}}]),t}(r.a.Component);G.contextType=v;var $=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onCloseModal=function(){a.setState({openModal:!1,deleteRecordId:null})},a.openModalConfirmation=function(e){a.setState({openModal:!0,deleteRecordId:e._id})},a.handleEditRow=function(e){a.props.history.push({pathname:"/cateditor/"+e._id})},a.handleDeleteRow=function(){a.setState({openModal:!1});var e=a.state.deleteRecordId;D.a.post("/api/sideservicecat/d/"+e).then(function(t){if(204===t.status){var n=a.state.rows.slice();n=n.filter(function(t){return t._id!==e}),a.setState({rows:n,status:204}),setTimeout(function(){a.setState({status:""})},2e3)}}).catch(function(e){a.setState({status:500}),console.log(e)})},a.getColumns=function(){var e=[{key:"_id",visible:!1},{key:"cat_lang",name:"Category",visible:!0},{key:"edit",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.handleEditRow(t)}},r.a.createElement(R.a,{icon:"pencil-alt"}))},width:35,visible:!0},{key:"delete",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.openModalConfirmation(t)}},r.a.createElement(R.a,{icon:"trash",className:"text-danger"}))},width:35,visible:!0}];a.setState({columns:e})},a.setColumnVisibility=function(e){var t=Object(T.a)(a.state.columns),n=t[e].visible;t[e].visible=!n,a.setState({columns:t})},a.getMenuItems=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("api/sideservices");case 2:return t=e.sent,e.next=5,k.a.sortBy(t.data,"sortId","asc");case 5:n=e.sent,r=[],n.map(function(e){r.push({_id:e._id,cat_lang:e.cat_lang[0][a.context._globalLang]})}),a.setState({rows:r});case 9:case"end":return e.stop()}},e)})),a.state={menuItems:null,status:"",openModal:!1,deleteRecordId:null,rows:[],columns:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.menuItems||(this.getColumns(),this.getMenuItems())}},{key:"render",value:function(){var e,t=this.state,a=t.openModal,n=t.rows,s=t.status,l=this.state.columns.filter(function(e){return!0===e.visible});return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card card-table-border-none"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"wrench"})),"Service Categories")),r.a.createElement("div",{className:"card-body pt-0 pb-5"},r.a.createElement("div",{className:"table card-table table-responsive table-responsive-large"},r.a.createElement("p",{className:"mb-5"},"Use ",r.a.createElement("code",null,".Menu Settings")," to edit menu items."),r.a.createElement(M.Link,{className:"btn btn-primary mb-3 float-right",to:"/cateditor/"},"Create +"),r.a.createElement(I,{status:s,successMessage:"Record has been deleted.",errorMessage:"An error occured while performing operation."}),r.a.createElement(F,{openModal:a,onCloseModal:this.onCloseModal,handleDeleteRow:this.handleDeleteRow}),r.a.createElement(L,{columns:this.state.columns,setColumnVisibility:this.setColumnVisibility}),r.a.createElement(A.a,(e={className:"table card-table table-responsive table-responsive-large",enableSingleRowSelect:!0,enableCellSelect:!0,columns:l,rowGetter:function(e){return n[e]},rowsCount:n.length},Object(_.a)(e,"enableCellSelect",!0),Object(_.a)(e,"minHeight",500),e))))))))))}}]),t}(r.a.Component);$.contextType=v;var J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){"category"===e.currentTarget.name&&a.setState({cat_lang:e.currentTarget.value})},a.getItem=function(){var e=Object(w.a)(y.a.mark(function e(t){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/sideservicescat/"+t);case 2:return n=e.sent,e.next=5,n.data;case 5:r=e.sent,a.setState({_id:r.cat_lang[0]._id,cat_lang:r.cat_lang[0][a.context._globalLang]});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onFormSubmit=function(e){if(e.preventDefault(),a.validator.allValid()){var t=k.a.isEmpty(a.state._id)?"/api/sideservicecat/c":"/api/sideservicecat/u",n=null;if(k.a.isEmpty(a.state._id))n=Object(_.a)({},a.context._globalLang,a.state.cat_lang);else{var r="cat_lang.$."+a.context._globalLang;n=Object(_.a)({"cat_lang._id":a.state._id},r,a.state.cat_lang)}D.a.post(t,n).then(function(e){204===e.status&&(a.setState({status:204}),setTimeout(function(){a.setState({status:""})},2e3))}).catch(function(e){a.setState({status:500}),console.log(e)})}else a.validator.showMessages(),a.forceUpdate()},a.state={_id:"",cat_lang:""},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.id||null;null!==e&&this.getItem(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(O,null,r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"pencil-alt"}))," ","Category Editor")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:k.a.isEmpty(this.state._id)?"d-none":"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"id"},"ID"),r.a.createElement("input",{name:"id",type:"text",className:"form-control",value:this.state._id,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"category"},"Category"),r.a.createElement("input",{name:"category",type:"text",className:"form-control",placeholder:"Category",autoComplete:"off",value:this.state.cat_lang,onChange:function(t){return e.onChange(t)}}),this.validator.message("Category",this.state.cat_lang,"required")))),r.a.createElement(I,{status:this.state.status,successMessage:k.a.isEmpty(this.state._id)?"Record has been created.":"Record has been updated.",errorMessage:"An error occured while performing operation."}),r.a.createElement("div",{className:"form-footer pt-5 border-top"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default",onClick:this.onFormSubmit},k.a.isEmpty(this.state._id)?"Create":"Update"))))))}}]),t}(r.a.Component);J.contextType=v;a(182);var K=a(128),Q=a.n(K),X=a(129),Z=a.n(X),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).goFull=function(){a.setState({isFull:!0})},a.state={isFull:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("button",{onClick:this.goFull,className:"btn btn-primary mb-3 float-right"},r.a.createElement(R.a,{icon:"desktop"})," Go Fullscreen"),r.a.createElement(Z.a,{enabled:this.state.isFull,onChange:function(t){return e.setState({isFull:t})}},r.a.createElement(Q.a,{url:"https://accounts.livechatinc.com/?client_id=bb9e5b2f1ab480e4a715977b7b1b4279&response_type=token&redirect_uri=https%3A%2F%2Fmy.livechatinc.com&state=%7B%22redirectTo%22%3A%22keep-on-chatting-with-customers%22%7D",width:this.state.isFull?"100%":"1000px",height:this.state.isFull?"100%":"400px",id:"myId",display:"initial",position:"relative",allowFullScreen:!0})))))))}}]),t}(r.a.Component);ee.contextType=v;var te=function(){return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"error-wrapper rounded border bg-white px-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement("h1",{className:"text-primary bold error-title"},"404"),r.a.createElement("p",{className:"pt-4 pb-5 error-subtitle"},"Looks like something went wrong."),r.a.createElement("a",{href:"index.html",className:"btn btn-primary btn-pill"},"Back to Home")),r.a.createElement("div",{className:"col-xl-6 pt-5 pt-xl-0 text-center"},r.a.createElement("img",{src:"/assets/img/lightenning.png",className:"img-responsive",alt:"Error Page Image"})))))))},ae=a(130),ne=a(19),re=a.n(ne),se={rental:{title:{en:"Rental service",it:"Servizio noleggio"},code:"RESE"},side:{title:{en:"Additional service",it:"Servizio aggiuntivo"},code:"SISE"},maintenance:{title:{en:"Maintenance service",it:"Servizio manutenzione"},code:"MASE"}},le={NRE:{type:"plus-square",class:"text-primary"},WPR:{type:"angle-right",class:"text-success"},WCR:{type:"exchange-alt",class:"text-success"},APR:{type:"check",class:"text-success"},ACR:{type:"check-double",class:"text-success"},RPR:{type:"exclamation-circle",class:"text-error"},RCR:{type:"exclamation",class:"text-error"},EPA:{type:"exclamation-triangle",class:"text-error"},CPA:{type:"circle-notch",class:"text-success"},PPA:{type:"certificate",class:"text-primary"},VPA:{type:"check-square",class:"text-success"},CLR:{type:"check-square",class:"text-warning"}},oe={new:{title:{en:"New",it:"Nuovo"},description:{en:"New request",it:"Nuova richiesta"},code:"NRE"},waitingProvider:{title:{en:"In progress",it:"In corso"},description:{en:"Waiting for provider",it:"In attesa del fornitore"},code:"WPR",communication:{autos:{title:{en:"Vehicole rental request",it:"Richiesta noleggio veicolo"},body:{en:"Please confirm or deny the following request:",it:"Si prega di confermare o rifiutare la seguente richiesta:"}},services:{title:{en:"Service request",it:"Richiesta servizio"},body:{en:"Please confirm or deny the following request:",it:"Si prega di confermare o rifiutare la seguente richiesta:"}}}},waitingCustomer:{title:{en:"In progress",it:"In corso"},description:{en:"Waiting for customer",it:"In attesa del cliente"},code:"WCR"},acceptedProvider:{title:{en:"In progress",it:"In corso"},description:{en:"Accepted by provider",it:"Accettato dal fornitore"},code:"APR"},acceptedCustomer:{title:{en:"In progress",it:"In corso"},description:{en:"Accepted by customer",it:"Accettato dal cliente"},code:"ACR"},refusedProvider:{title:{en:"In progress",it:"In corso"},description:{en:"Refused by provider",it:"Rifiutato dal fornitore"},code:"RPR"},refusedCustomer:{title:{en:"In progress",it:"In corso"},description:{en:"Refused by customer",it:"Rifiutato dal cliente"},code:"RCR"},refusedPayment:{title:{en:"In progress",it:"In corso"},description:{en:"Rejected by payment system",it:"Rifiutato dal sistema di pagamento"},code:"RPA"},errorPayment:{title:{en:"In progress",it:"In corso"},description:{en:"Error during payment",it:"Errore nel pagamento"},code:"EPA"},payedBySystem:{title:{en:"In progress",it:"In corso"},description:{en:"Completed payment",it:"Pagamento completato"},code:"CPA"},preOrdered:{title:{en:"In progress",it:"In corso"},description:{en:"Payment included in order",it:"Pagamento incluso nella richiesta"},code:"PPA"},verifiedPayment:{title:{en:"In progress",it:"In corso"},description:{en:"Payment verified",it:"Pagamento verificato"},code:"VPA"},closed:{title:{en:"Closed",it:"Chiuso"},description:{en:"Closed request",it:"Richiesta chiusa"},code:"CLR"}};var ce=new function(){var e=this;this.init=function(){e.serviceRequestCodes=se,e.statusCodes=oe,e.statusIcons=le},this.getStatus=function(t){var a=t[2]+t[5]+t[8]+t[11],n=t[13]+t[15]+t[17];return{service:e.serviceRequestCodes[e.getServiceFromCode(a)],status:e.statusCodes[e.getStatusFromCode(n)],fieldID:t.substring(18),icon:e.statusIcons[n]}},this.getServiceFromCode=function(t){var a=null;for(var n in e.serviceRequestCodes)e.serviceRequestCodes[n].code===t.trim().toUpperCase()&&(a=n);return a},this.getStatusFromCode=function(t){var a=null;for(var n in e.statusCodes)e.statusCodes[n].code===t.trim().toUpperCase()&&(a=n);return a},this.init()},ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getLang=function(){return a.context._globalLang},a.onCloseModal=function(){a.setState({openModal:!1,deleteRecordId:null})},a.openModalConfirmation=function(e){a.setState({openModal:!0,deleteRecordId:e._id,category:e.category,reqid:e.reqid})},a.handleEditRow=function(e){localStorage.removeItem("rentaData"),localStorage.setItem("rentalData",JSON.stringify(e)),a.props.history.push({pathname:"/rentaleditor/"})},a.getStatusIcon=function(e){var t=ce.getStatus(e),n=t.status,r=t.icon,s={title:n.title[a.getLang()],description:n.description[a.getLang()],icon:r.type,class:r.class};return a.printStatusIconEl(s)},a.printStatusIconEl=function(e){return[r.a.createElement("a",{title:e.description},r.a.createElement(R.a,{icon:e.icon,className:e.class})," "," "," ",e.title," "," - "," ",e.description)]},a.resizeableColumns=function(e){console.log("TCL: RentalRequests -> column",e.key);return k.a.isEmpty(e.name)?null:{resizable:!0,sortable:!0}},a.handleDeleteRow=function(){a.setState({openModal:!1});var e=a.state.deleteRecordId,t=a.state.category,n=a.state.reqid,r={_id:e,category:t,reqid:n};D.a.post("/api/rentalservices/d/",r).then(function(e){if(204===e.status){var t=a.state.rows.slice();t=t.filter(function(e){return e.reqid!==n}),a.setState({rows:t,status:204})}}).catch(function(e){a.setState({status:500}),console.log(e)})},a.sortRows=function(e,t,n){var r="NONE"===n?e:a.state.rows.sort(function(e,a){return"ASC"===n?e[t]>a[t]?1:-1:"DESC"===n?e[t]<a[t]?1:-1:void 0});a.setState({rows:r})},a.setColumnVisibility=function(e){var t=Object(T.a)(a.state.columns),n=t[e].visible;t[e].visible=!n,a.setState({columns:t})},a.getColumns=function(){var e=[{key:"_id",visible:!1,sortDescendingFirst:!0},{key:"reqid",visible:!1},{key:"category",name:"Service Name",visible:!0},{key:"username",name:"Username",visible:!0},{key:"size",name:"Option",visible:!0},{key:"status",name:"Status",visible:!0},{key:"pickUpPlace",name:"Pick-up Place",visible:!1},{key:"returnPlace",name:"Return Place",visible:!1},{key:"pickUpDate",name:"Pick-up Date",visible:!0},{key:"returnDate",name:"Return Date",visible:!0},{key:"totalPieces",name:"Total Pieces",visible:!1},{key:"createdDate",name:"Creation Date",visible:!0},{key:"updatedDate",name:"Updated Date",visible:!0},{key:"edit",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.handleEditRow(t)}},r.a.createElement(R.a,{icon:"pencil-alt"}))},width:35,visible:!0},{key:"delete",getRowMetaData:function(e){return e},formatter:function(e){var t=e.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.openModalConfirmation(t)}},r.a.createElement(R.a,{icon:"trash",className:"text-danger"}))},width:35,visible:!0}].map(function(e){return Object(ae.a)({},e,a.resizeableColumns(e))});a.setState({columns:e})},a.getRentalData=Object(w.a)(y.a.mark(function e(){var t,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/rentalservices");case 2:t=e.sent,n=t.data,r=[],console.log("rentalDAta",t.data),n.map(function(e){e.map(function(e,t){var n=Object.keys(e)[1],s=e[Object.keys(e)[0]];if(e.Autos)e[n].map(function(e){var t=e._id,l=e.userinfo,o=e.Size,c=e.Status,i=e.DataOraRitiro,m=e.DataOraRiconsegna,u=e.PostoRitiro,d=e.PostoRiconsegna,p=e.createdDate,v=e.UpdatedDate;r.push({_id:s,reqid:t,username:l.Username,category:n,size:o,status:a.getStatusIcon(c),pickUpDate:i,returnDate:m,pickUpPlace:u,returnPlace:d,createdDate:re()(p).format("YYYY-MM-DD HH:mm:ss"),updatedDate:v})});else{var l=Object.keys(e)[1],o=e[Object.keys(e)[0]];e[l].map(function(e){var t=e._id,n=e.userinfo,s=e.Status,c=e.NumeroCapi,i=e.DataOraRitiro,m=e.DataOraRiconsegna,u=e.createdDate,d=e.UpdatedDate;r.push({_id:o,reqid:t,username:n.Username,status:a.getStatusIcon(s),category:l,totalPieces:c,pickUpDate:i,returnDate:m,createdDate:re()(u).format("YYYY-MM-DD HH:mm:ss"),updatedDate:d||""})})}})}),a.setState({rows:r}),a.sortRows(r,"createdDate","DESC");case 9:case"end":return e.stop()}},e)})),a.state={openModal:!1,deleteRecordId:null,category:null,reqid:null,status:void 0,columns:[],rows:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){k.a.isEmpty(this.state.rows)&&this.getRentalData(),k.a.isEmpty(this.state.columns)&&this.getColumns()}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.status,s=a.rows,l=this.state.columns.filter(function(e){return!0===e.visible});return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card card-table-border-none"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"wrench"})),"Service Requests")),r.a.createElement("div",{className:"card-body pt-0 pb-5"},r.a.createElement("div",{className:"table card-table table-responsive table-responsive-large"},r.a.createElement("p",{className:"mb-5"},"Use ",r.a.createElement("code",null,".Menu Settings")," to edit menu items."),r.a.createElement(I,{status:n,successMessage:"Record has been deleted.",errorMessage:"An error occured while performing operation."}),r.a.createElement(V.a,{open:this.state.openModal,onClose:this.onCloseModal,center:!0},r.a.createElement("div",{className:"modal-header"},"Delete Record"),r.a.createElement("div",{className:"modal-body"},"Do you really want to delete this Record?"),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.onCloseModal},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.handleDeleteRow},"Delete"))),r.a.createElement(L,{columns:this.state.columns,setColumnVisibility:this.setColumnVisibility}),r.a.createElement(A.a,(e={className:"table card-table table-responsive table-responsive-large",enableSingleRowSelect:!0,enableCellSelect:!0,columns:l,rowGetter:function(e){return s[e]},rowsCount:s.length,onGridSort:function(e,a){console.log("TCL: RentalRequests -> render -> sortDirection",a),console.log("TCL: RentalRequests -> render -> sortColumn",e),t.sortRows(s,e,a)}},Object(_.a)(e,"enableCellSelect",!0),Object(_.a)(e,"minHeight",500),e))))))))))}}]),t}(r.a.Component);ie.contextType=v;a(184);var me=a(46),ue=a.n(me),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).setStatus=function(e){e.status[0].props.children.map(function(t){k.a.isObject(t)||k.a.isEmpty(t)||a.setState({status:t});var n=e.size,r=e.pickUpPlace,s=e.returnPlace,l=e.pickUpDate,o=e.returnDate;a.setState({size:n,pickUpPlace:r,returnPlace:s,pickUpDate:re()(l,"DD/MM/YYYY HH:mm"),returnDate:re()(o,"DD/MM/YYYY HH:mm")})})},a.handleSubmit=function(e){if(a.validator.allValid()){var t=a.props.rentalData,n=a.state,r=n.size,s=n.status,l=n.pickUpPlace,o=n.returnPlace,c=n.pickUpDate,i=n.returnDate;console.log(s);var m={_id:t._id,reqid:t.reqid,category:t.category,size:r,status:s,pickUpPlace:l,returnPlace:o,pickUpDate:c,returnDate:i};D.a.post("/api/rentalservices/u",m).then(function(e){204===e.status&&a.setState({messageStatus:204})}).catch(function(e){console.log("TCL: AutoView -> handleSubmit -> err",e)})}else a.validator.showMessages(),a.forceUpdate();e.preventDefault()},a.state={size:void 0,status:void 0,pickUpPlace:void 0,returnPlace:void 0,pickUpDate:void 0,returnDate:void 0,messageStatus:void 0},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.rentalData;this.setStatus(e)}},{key:"render",value:function(){var e=this,t=this.props.rentalData;return r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"pencil-alt"})),"Edit Request")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"ID"},"ID"),r.a.createElement("input",{name:"ID",type:"text",className:"form-control",value:t._id,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"UserID"},"Username"),r.a.createElement("input",{name:"UserID",type:"text",className:"form-control",autoComplete:"off",value:t.username,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"url"},"Service Name"),r.a.createElement("input",{name:"ServiceName",type:"text",className:"form-control",value:t.category,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"icon"},"Option"),r.a.createElement("select",{class:"form-control",id:"status",defaultValue:this.state.size,onChange:function(t){e.setState({size:t.currentTarget.value})}},r.a.createElement("option",{value:"Small"},"Small"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Station Wagon"},"Station Wagon")))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"status"},"Status"),r.a.createElement("select",{class:"form-control",defaultValue:this.state.status,onChange:function(t){e.setState({status:t.currentTarget.value})}},r.a.createElement("option",{value:"New"},"New"),r.a.createElement("option",{value:"Open"},"Open"),r.a.createElement("option",{value:"InProgress"},"InProgress"),r.a.createElement("option",{value:"Closed"},"Closed"),r.a.createElement("option",{value:"Refused"},"Refused")))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"sortid"},"Pick-up Place"),r.a.createElement("input",{name:"PickupPlace",type:"text",className:"form-control",placeholder:"Pick Up Place",value:this.state.pickUpPlace,onChange:function(t){e.setState({pickUpPlace:t.currentTarget.value})}}),this.validator.message("Pick up Place",this.state.pickUpPlace,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"sortid"},"Return Place"),r.a.createElement("input",{id:"ReturnPlace",name:"ReturnPlace",type:"text",className:"form-control",placeholder:"Return Place",value:this.state.returnPlace,onChange:function(t){e.setState({returnPlace:t.currentTarget.value})}}),this.validator.message("ReturnPlace",this.state.returnPlace,"required"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"PickUpDate"},"Pick-up Date"),r.a.createElement(ue.a,{"data-enable-time":!0,options:{dateFormat:"d/m/Y H:i",time_24hr:!0},onChange:function(t){e.setState({pickUpDate:re()(t[0])})},value:re()(this.state.pickUpDate,"DD/MM/YYYY HH:mm").format("DD/MM/YYYY HH:mm"),className:"form-control"}),this.validator.message("pickUpDate",this.state.pickUpDate,"required|date"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"PickUpDate"},"Return Date"),r.a.createElement(ue.a,{"data-enable-time":!0,options:{dateFormat:"d/m/Y H:i",time_24hr:!0,minDate:re()(this.state.pickUpDate,"DD/MM/YYYY HH:mm").format("DD/MM/YYYY HH:mm")},onChange:function(t){e.setState({returnDate:re()(t[0])})},value:re()(this.state.returnDate,"DD/MM/YYYY HH:mm").format("DD/MM/YYYY HH:mm"),className:"form-control"}),this.validator.message("Return Date",this.state.pickUpDate,"required|date"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"PickUpDate"},"Updated Date"),r.a.createElement("input",{id:"updatedDate",name:"updateDate",type:"text",className:"form-control",value:t.updatedDate,disabled:!0})))),r.a.createElement(I,{status:this.state.messageStatus,successMessage:"Record has been updated",errorMessage:"An error occured while performing operation."}),r.a.createElement("div",{className:"form-footer pt-5 border-top"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default",onClick:this.handleSubmit},"Update")))))}}]),t}(r.a.Component),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).setStatus=function(e){var t=e.status,n=e.totalPieces,r=e.pickUpDate,s=e.returnDate;t[0].props.children.map(function(e){k.a.isObject(e)||k.a.isEmpty(e)||a.setState({status:e,totalPieces:n,pickUpDate:re()(r,"DD/MM/YYYY HH:mm"),returnDate:re()(s,"DD/MM/YYYY HH:mm")})})},a.handleSubmit=function(e){if(a.validator.allValid()){var t=a.props.rentalData,n=t.category,r=t.reqid,s=t._id,l=a.state,o={_id:s,reqid:r,category:n,status:l.status,pickUpDate:l.pickUpDate,returnDate:l.returnDate,totalPieces:l.totalPieces};D.a.post("/api/rentalservices/u",o).then(function(e){204===e.status&&a.setState({messageStatus:204})}).catch(function(e){console.log("TCL: AutoView -> handleSubmit -> err",e)}),a.setState({update:204})}else a.validator.showMessages(),a.forceUpdate();e.preventDefault()},a.state={update:!1,status:void 0,pickUpDate:void 0,returnDate:void 0,totalPieces:void 0},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.rentalData;this.setStatus(e)}},{key:"render",value:function(){var e=this,t=this.props.rentalData;return r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"pencil-alt"})),"Edit Request")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"ID"},"ID"),r.a.createElement("input",{name:"ID",type:"text",className:"form-control",value:t._id,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"UserID"},"Username"),r.a.createElement("input",{name:"UserID",type:"text",className:"form-control",autoComplete:"off",value:t.username,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"url"},"Service Name"),r.a.createElement("input",{name:"ServiceName",type:"text",className:"form-control",value:t.category,disabled:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"status"},"Status"),r.a.createElement("select",{class:"form-control",onChange:function(t){e.setState({status:t.currentTarget.value})}},r.a.createElement("option",{value:"New"},"New"),r.a.createElement("option",{value:"Open"},"Open"),r.a.createElement("option",{value:"InProgress"},"InProgress"),r.a.createElement("option",{value:"Closed"},"Closed"),r.a.createElement("option",{value:"Refused"},"Refused")))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"sortid"},"Total Pieces"),r.a.createElement("input",{name:"totalPieces",type:"text",className:"form-control",placeholder:"Total Pieces",value:this.state.totalPieces,onChange:function(t){e.setState({totalPieces:t.currentTarget.value})}}),this.validator.message("total pieces",this.state.totalPieces,"required|numeric"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"PickUpDate"},"Pick-up Date"),r.a.createElement(ue.a,{"data-enable-time":!0,options:{dateFormat:"d/m/Y H:i",time_24hr:!0},onChange:function(t){e.setState({pickUpDate:re()(t[0])})},value:re()(this.state.pickUpDate,"DD/MM/YYYY HH:mm").format("DD/MM/YYYY HH:mm"),className:"form-control"}),this.validator.message("pickUpDate",this.state.pickUpDate,"required|date"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"PickUpDate"},"Return Date"),r.a.createElement(ue.a,{"data-enable-time":!0,options:{dateFormat:"d/m/Y H:i",time_24hr:!0,minDate:re()(this.state.pickUpDate,"DD/MM/YYYY HH:mm").format("DD/MM/YYYY HH:mm")},onChange:function(t){e.setState({returnDate:re()(t[0])})},value:re()(this.state.returnDate,"DD/MM/YYYY HH:mm").format("DD/MM/YYYY HH:mm"),className:"form-control"}),this.validator.message("Return Date",this.state.pickUpDate,"required|date"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"updatedDate"},"Updated Date"),r.a.createElement("input",{name:"updatedDate",type:"text",className:"form-control",value:t.updatedDate,disabled:!0})))),r.a.createElement(I,{status:this.state.update,successMessage:"Record has been updated",errorMessage:"An error occured while performing operation."}),r.a.createElement("div",{className:"form-footer pt-5 border-top"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default",onClick:this.handleSubmit},"Update")))))}}]),t}(r.a.Component),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onFormSubmit=function(e){},a.state={rentalData:void 0},a.validator=new h.a,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("rentalData"));this.setState({rentalData:e})}},{key:"render",value:function(){var e=this.state.rentalData;return k.a.isEmpty(e)?r.a.createElement(O,null,r.a.createElement("div",{className:"card card-default"},r.a.createElement("div",{className:"card-header card-header-border-bottom"}),r.a.createElement("p",null,"No data to show"))):"Autos"===e.category?r.a.createElement(O,null,r.a.createElement(de,{rentalData:e})):r.a.createElement(O,null,r.a.createElement(pe,{rentalData:e}))}}]),t}(r.a.Component);ve.contextType=v;var ge=a(135),he=a(58),fe=a(93),be=function(e){var t=e.component,a=Object(ge.a)(e,["component"]);return r.a.createElement(v,null,function(e){var n=e._isAuth;return r.a.createElement(he.a,Object.assign({render:function(e){return n?r.a.createElement(t,e):r.a.createElement(fe.a,{to:"/"})}},a))})},Ee=a(66),Ne=a(41),ye=a(131),we=(a(274),a(132)),Ce=a.n(we),De=a(133),Se=a.n(De),ke=function(e){var t=e.openModal,a=e.onCloseModal,s=e.rowData,l=Object(n.useState)(void 0),o=Object(Ee.a)(l,2),c=o[0],i=o[1],m=Object(n.useState)(Ne.EditorState.createEmpty),u=Object(Ee.a)(m,2),d=u[0],p=u[1],v=Object(n.useState)(!1),g=Object(Ee.a)(v,2),h=g[0],f=g[1];return Object(n.useEffect)(function(){if(k.a.isObject(s)&&!h){var e=s.title,t=s.content,a=Se()(t),n=a.contentBlocks,r=a.entityMap,l=Ne.ContentState.createFromBlockArray(n,r),o=Ne.EditorState.createWithContent(l);i(e),p(o),f(!0)}}),r.a.createElement(V.a,{open:t,onClose:function(){a()},center:!0},r.a.createElement("div",{className:"modal-header"},"Edit Content"),r.a.createElement("div",{className:"modal-body"},"saving the content will reflect changes on mobile app."),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"id"},"Title"),r.a.createElement("input",{name:"id",type:"text",className:"form-control",value:c,placeholder:"Title",onChange:function(e){return i(e.currentTarget.value)}}))),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"category"},"Content"),r.a.createElement(ye.Editor,{editorState:d,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(e){p(e)},maxHeight:100})))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-success","data-dismiss":"modal",onClick:function(){!function(e,t,a){var n={_id:a._id,title:e,content:Ce()(Object(Ne.convertToRaw)(t.getCurrentContent()))};D.a.post("/api/infopages/u",n)}(c,d,s)}},"Save")))},Me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getData=Object(w.a)(y.a.mark(function e(){var t,n,r,s,l,o,c,i,m,u,d,p;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/infopages");case 2:for(c in t=e.sent,n=t.data,r=Object(T.a)(a.state.rows),s=a.context._globalLang||"en",console.log("TCL: ContentEditor -> getData -> ln",s),l=[],o=[],Object.keys(n).forEach(function(e){return Object.keys(n[e]).forEach(function(t){"_id"===t?l.push(n[e][t]):o.push(t)})}),n)i=n[c][o[c]],m=i.title,u=i.content,d=i.createdDate,p=i.updatedDate,r.push({_id:l[c],title:m[s],content:u[s],createdDate:d,updatedDate:p});a.setState({rows:r});case 11:case"end":return e.stop()}},e)})),a.openContentModal=function(e){a.setState({openModal:!0,rowData:e})},a.onCloseModal=function(){a.setState({openModal:!1})},a.handleEditRow=function(e){a.openContentModal(e)},a.setColumnVisibility=function(e){var t=Object(T.a)(a.state.columns),n=t[e].visible;t[e].visible=!n,a.setState({columns:t})},a.state={menuItems:null,status:void 0,openModal:!1,rows:[],columns:[],rowData:void 0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getColumns(),this.getData()}},{key:"getColumns",value:function(){var e=this,t=[{key:"id",visible:!1},{key:"title",name:"Title Page",visible:!0},{key:"content",name:"Content",visible:!0},{key:"createdDate",name:"Created Date",visible:!0},{key:"updatedDate",name:"Updated Date",visible:!0},{key:"edit",getRowMetaData:function(e){return e},formatter:function(t){var a=t.dependentValues;return r.a.createElement("a",{href:"javascript:;",onClick:function(){return e.handleEditRow(a)}},r.a.createElement(R.a,{icon:"pencil-alt"}))},width:35,visible:!0}];this.setState({columns:t})}},{key:"render",value:function(){var e,t=this.state,a=t.rows,n=t.status,s=t.openModal,l=t.rowData;console.log("TCL: ContentEditor -> render -> rowData",l);var o=this.state.columns.filter(function(e){return!0===e.visible});return r.a.createElement(O,null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card card-table-border-none"},r.a.createElement("div",{className:"card-header card-header-border-bottom"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(R.a,{icon:"pencil-alt"})),"App Content Editor")),r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-body"},r.a.createElement("ul",{class:"nav nav-pills mb-3",id:"pills-tab",role:"tablist"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link active show",id:"ipills-home-tab","data-toggle":"pill",href:"#ipills-home",role:"tab","aria-controls":"ipills-home","aria-selected":"false"},r.a.createElement("i",{class:"mdi mdi-star mr-1"})," Info Pages")),r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",id:"ipills-profile-tab","data-toggle":"pill",href:"#ipills-profile",role:"tab","aria-controls":"ipills-profile","aria-selected":"true"},r.a.createElement("i",{class:"mdi mdi-account mr-1"})," App Screens"))),r.a.createElement("div",{class:"tab-content",id:"pills-tabContent"},r.a.createElement("div",{class:"tab-pane fade active show",id:"ipills-home",role:"tabpanel","aria-labelledby":"ipills-home-tab"},r.a.createElement("div",{className:"table card-table table-responsive table-responsive-large"},r.a.createElement(ke,{openModal:s,onCloseModal:this.onCloseModal,rowData:l}),r.a.createElement(I,{status:n,successMessage:"Record has been deleted.",errorMessage:"An error occured while performing operation."}),r.a.createElement(L,{columns:this.state.columns,setColumnVisibility:this.setColumnVisibility}),r.a.createElement(A.a,(e={className:"table card-table table-responsive table-responsive-large",enableSingleRowSelect:!0,enableCellSelect:!0,columns:o,rowGetter:function(e){return a[e]},rowsCount:a.length},Object(_.a)(e,"enableCellSelect",!0),Object(_.a)(e,"minHeight",500),e)))),r.a.createElement("div",{class:"tab-pane fade",id:"ipills-profile",role:"tabpanel","aria-labelledby":"ipills-profile-tab"},"Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."))))))))))}}]),t}(r.a.Component);Me.contextType=v;var Re=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(M.BrowserRouter,null,r.a.createElement(M.Switch,null,r.a.createElement(M.Route,{path:"/login",component:f}),r.a.createElement(M.Route,{path:"/content",component:Me}),r.a.createElement(M.Route,{path:"/chat",component:ee}),r.a.createElement(M.Route,{path:"/rentalrequests",component:ie}),r.a.createElement(M.Route,{path:"/commonview",component:pe}),r.a.createElement(M.Route,{path:"/rentaleditor/",component:ve}),r.a.createElement(be,{path:"/dashboard",component:O}),r.a.createElement(M.Route,{path:"/servicecatergory",component:$}),r.a.createElement(M.Route,{path:"/service",component:z}),r.a.createElement(M.Route,{path:"/sserviceeditor/:pid/:cid",component:H}),r.a.createElement(M.Route,{path:"/sserviceeditor/",component:H}),r.a.createElement(M.Route,{path:"/maintenance",component:G}),r.a.createElement(M.Route,{path:"/cateditor/:id",component:J}),r.a.createElement(M.Route,{path:"/cateditor/",component:J}),r.a.createElement(M.Route,{path:"/menusettings",component:q}),r.a.createElement(M.Route,{path:"/menueditor/:id",component:U}),r.a.createElement(M.Route,{path:"/",exact:!0,component:f}),r.a.createElement(M.Route,{component:te})))}}]),t}(r.a.Component),je=a(52),Oe=a(134);je.b.add(Oe.a);var _e=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p,null,r.a.createElement(Re,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[136,1,2]]]);
//# sourceMappingURL=main.551cf965.chunk.js.map